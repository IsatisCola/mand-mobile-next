var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,n=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{g as s,n as r,h as i,H as o,v as d,o as m,a as c,c as u,d as f,F as p,x as b,y as v,f as k,j as h,i as y,l as w,t as x,e as S,R as g}from"./app.587128d6.js";import{C as I,U as O}from"./index.fef09045.js";var L={modelValue:{type:[String,Number],default:""},items:{type:Array,default:()=>[]},hasInk:{type:Boolean,default:!0},inkLength:{type:Number,default:0},immediate:{type:Boolean,default:!1}},R=(e,{emit:s})=>{let c=null;const u=r(null),f=r(null),p=r(!1),b=()=>{var e,s;c&&(c.destroy(),c=null),u.value&&(e=u.value,c=new g(e,((e,s)=>{for(var r in s||(s={}))l.call(s,r)&&n(e,r,s[r]);if(a)for(var r of a(s))t.call(s,r)&&n(e,r,s[r]);return e})({scrollX:!0,scrollY:!1,probeType:3,tap:"tap"},s)))};function v(){var e,a,l;const t=null!=(a=null==(e=u.value)?void 0:e.getBoundingClientRect().width)?a:0,n=Array.from((null==(l=f.value)?void 0:l.children)||[]).reduce(((e,a)=>e+a.getBoundingClientRect().width),0);p.value=Math.ceil(t-n)<0,p.value&&(u.value.querySelector(".md-tab-bar-list").style.display="inline-block",b(),function(e,a){const l=10;null==c||c.on("scroll",(t=>{t.x<0&&Math.abs(t.x)>l?k.value=!0:k.value=!1,Math.abs(t.x)>a-e-l?h.value=!1:h.value=!0}))}(t,n))}const k=r(!1),h=r(!0);const y=r("0px"),w=r("0px"),x=i((()=>e.items.findIndex((a=>a.name===e.modelValue)))),L=e=>{var a;const l=Array.from((null==(a=f.value)?void 0:a.children)||[]);null==c||c.scrollToElement(l[e],300,!0,!1)},R=()=>{-1!==S(x)&&(j(S(x)),L(S(x))),e.immediate&&-1!==S(x)&&s(I,e.items[S(x)],x)},j=a=>{var l;const t=Array.from((null==(l=f.value)?void 0:l.children)||[]),n=t.map((e=>e.getBoundingClientRect().width)),s=t.map((e=>e.offsetLeft));w.value=`${n[a]}px`,y.value=`${s[a]}px`,o((()=>{if(e.inkLength){const l=n[a]-e.inkLength;w.value=`${e.inkLength}px`,y.value=`${s[a]+l/2}px`}}))};return d((()=>e.modelValue),(()=>{R()})),m((()=>{v(),R()})),{wrapRef:u,contentRef:f,scrollable:p,maskStartShown:k,maskEndShown:h,modelIndex:x,clickHandle:(e,a)=>{e.disabled||(j(a),L(a),s(O,e.name),s(I,e,a))},inkWidth:w,inkOffsetLeft:y,setInkStyle:j}};var j=s({name:"MdTabBar",props:L,emits:[I,O],setup(e,a){const{wrapRef:l,contentRef:t,scrollable:n,maskStartShown:s,maskEndShown:r,clickHandle:i,modelIndex:o,inkWidth:d,inkOffsetLeft:m,setInkStyle:c}=R(e,a);return{wrapper:l,content:t,scrollable:n,maskStartShown:s,maskEndShown:r,modelIndex:o,clickHandle:i,inkWidth:d,inkOffsetLeft:m,setInkStyle:c}}}),B={class:"md-tab-bar"},C={ref:"wrapper",class:"md-tab-bar-inner"},E={class:"md-tab-bar-start"},H={class:"md-tab-bar-end"},$={ref:"content",class:"md-tab-bar-list"};j.render=function(e,a){return c(),u("div",B,[f("div",C,[e.scrollable?(c(),u(p,{key:0},[b(f("div",E,null,512),[[v,e.maskStartShown]]),b(f("div",H,null,512),[[v,e.maskEndShown]])],64)):k("v-if",!0),f("div",$,[(c(!0),u(p,null,h(e.items,((a,l)=>(c(),u("a",{key:l,ref:"items",class:["md-tab-bar-item",{"is-active":e.modelValue===a.name,"is-disabled":!!a.disabled}],onClick:t=>e.clickHandle(a,l),onTap:t=>e.clickHandle(a,l)},[y(e.$slots,"default",{item:a,items:e.items,index:l,currentName:e.modelValue},(()=>[w(x(a.label),1)]))],42,["onClick","onTap"])))),128)),e.hasInk?(c(),u("span",{key:0,class:["md-tab-bar-ink",{"is-disabled":e.items[e.modelIndex]&&e.items[e.modelIndex].disabled}],style:{width:e.inkWidth,transform:`translateX(${e.inkOffsetLeft})`}},null,6)):k("v-if",!0)],512)],512)])};var T=j;T.install=e=>{e.component(T.name,T)};var V=T;export{V as t};
