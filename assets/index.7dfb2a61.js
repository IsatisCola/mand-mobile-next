import{g as e,n as t,h as o,o as n,v as a,r as l,a as i,c as p,x as s,y as r,d as c,f as u,T as d,k as f,q as m,i as v,z as k,F as b,t as y}from"./app.587128d6.js";import{t as x}from"./index.380fe8bb.js";import{U as C}from"./index.fef09045.js";import{i as h}from"./index.81c07342.js";var S={modelValue:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0},position:{type:String,default:"center"},transition:{type:String,default:""},hasMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preventScroll:{type:Boolean,default:!1},preventScrollExclude:{type:[Object,String],default:void 0}},g=(e,{emit:l})=>{const i=t(!1),p=t(null),s=t(null),r=o((()=>{if(e.transition)return e.transition;switch(e.position){case"bottom":return"md-slide-up";case"top":return"md-slide-down";case"left":return"md-slide-right";case"right":return"md-slide-left";default:return"md-fade"}}));return n((()=>{var t;const o="string"==typeof e.preventScrollExclude?null==(t=s.value)?void 0:t.querySelector(e.preventScrollExclude):e.preventScrollExclude,n=(t=!0)=>{e.preventScroll&&p.value&&s.value&&o&&function(e,t,o,n){const a=e?"addEventListener":"removeEventListener";null==t||t[a]("touchmove",T,!1),null==o||o[a]("touchmove",T,!1),function(e,t){const o=e?"addEventListener":"removeEventListener";null==t||t[o]("touchmove",L,!1)}(e,n)}(t,p.value,s.value,o)};a((()=>e.modelValue),(e=>{e?(i.value=e,n()):n(!1)}),{immediate:!0})})),{isPopupShow:i,currentTransition:r,boxRef:s,maskRef:p,popupMaskClick:()=>{e.maskClosable&&(l("maskClick"),l(C,!1))},popupLeave:function(){i.value=!1,l("hide")},popupAppear:function(){l("show")},beforePopupAppear:function(){l("beforeShow")},beforePopupLeave:function(){l("beforeHide")}}};function T(e){e.preventDefault()}function L(e){e.stopImmediatePropagation()}var A=e({name:"MdPopup",components:{MdTransition:x},inheritAttrs:!1,props:S,emits:[C,"maskClick","show","hide","beforeShow","beforeHide"],setup(e,t){const{isPopupShow:o,currentTransition:n,popupMaskClick:a,popupLeave:l,popupAppear:i,beforePopupAppear:p,beforePopupLeave:s,maskRef:r,boxRef:c}=g(e,t);return{isPopupShow:o,currentTransition:n,popupMaskClick:a,popupLeave:l,popupAppear:i,beforePopupAppear:p,beforePopupLeave:s,mask:r,box:c}}});A.render=function(e,t){const o=l("md-transition");return i(),p(k,{to:"body",disabled:!e.appendToBody},[s(c("div",{class:["md-popup",[e.hasMask?"with-mask":"",e.position]]},[u(" mask "),c(d,{name:"md-mask-fade"},{default:f((()=>[s(c("div",{ref:"mask",class:"md-popup-mask",onClick:t[1]||(t[1]=(...t)=>e.popupMaskClick&&e.popupMaskClick(...t))},null,512),[[r,e.hasMask&&e.modelValue]])])),_:1}),u(" content "),c(o,m(e.$attrs,{name:e.currentTransition,onBeforeEnter:e.beforePopupAppear,onBeforeLeave:e.beforePopupLeave,onAfterEnter:e.popupAppear,onAfterLeave:e.popupLeave}),{default:f((()=>[s(c("div",{ref:"box",class:["md-popup-box",[e.currentTransition]]},[v(e.$slots,"default")],2),[[r,e.modelValue]])])),_:3},16,["name","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"])],2),[[r,e.isPopupShow]])],8,["disabled"])};var P=A,B=e({name:"MdPopupTitleBar",components:{MdIcon:h},props:{title:{type:String,default:""},describe:{type:String,default:""},okText:{type:String,default:""},cancelText:{type:String,default:""},titleAlign:{type:String,default:"center"},onlyClose:{type:Boolean,default:!1}},emits:["cancel","confirm"]}),$={key:1,class:"title-bar-title"},E={key:2,class:"title-bar-title"};B.render=function(e,t){const o=l("md-icon");return i(),p("div",{class:["md-popup-title-bar",[`title-align-${e.titleAlign}`]]},[u(" Cancel "),e.onlyClose?u("v-if",!0):(i(),p(b,{key:0},[u(" todo slot "),e.cancelText?(i(),p("div",{key:0,class:"title-bar-left md-popup-cancel",onClick:t[1]||(t[1]=t=>e.$emit("cancel")),textContent:y(e.cancelText)},null,8,["textContent"])):e.$slots.cancel?(i(),p("div",{key:1,class:"title-bar-left md-popup-cancel",onClick:t[2]||(t[2]=t=>e.$emit("cancel"))},[v(e.$slots,"cancel")])):u("v-if",!0)],2112)),u(" Title "),e.title?(i(),p("div",$,[e.title?(i(),p("p",{key:0,class:"title",textContent:y(e.title)},null,8,["textContent"])):u("v-if",!0),u(" todo slot "),e.describe?(i(),p("p",{key:1,class:"describe",textContent:y(e.describe)},null,8,["textContent"])):u("v-if",!0)])):(i(),p("div",E,[v(e.$slots,"title")])),u(" Ok "),e.onlyClose?u("v-if",!0):(i(),p(b,{key:3},[u(" todo slot "),e.okText?(i(),p("div",{key:0,class:"title-bar-right md-popup-confirm",onClick:t[3]||(t[3]=t=>e.$emit("confirm")),textContent:y(e.okText)},null,8,["textContent"])):e.$slots.confirm?(i(),p("div",{key:1,class:"title-bar-right md-popup-confirm",onClick:t[4]||(t[4]=t=>e.$emit("confirm"))},[v(e.$slots,"confirm")])):u("v-if",!0)],2112)),e.onlyClose?(i(),p("div",{key:4,class:"title-bar-right md-popup-close",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))},[c(o,{name:"close",size:"lg"})])):u("v-if",!0)],2)};var M=B;P.install=e=>{e.component(P.name,P),e.component(M.name,M)};var w=P;export{P as a,w as p,M as t};
