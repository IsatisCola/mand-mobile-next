var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,n)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[l]=n,r=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&s(e,l,a[l]);if(n)for(var l of n(a))o.call(a,l)&&s(e,l,a[l]);return e},i=(e,n)=>a(e,l(n));import{g as d,n as u,I as p,m as c,v as m,o as b,J as v,M as f,r as h,a as g,c as y,d as w,k as S,i as k,f as x,h as I,G as j,F as H,j as V,e as C}from"./app.2c8ca32d.js";import{f as P}from"./index.93fa51f6.js";import{f as T}from"./index.345902cc.js";import{a as B,t as _}from"./index.9c0df757.js";import{t as M}from"./index.861d7ae2.js";import{s as O}from"./index.f3f1c3aa.js";import{t as U}from"./index.a89ec636.js";import{C as $,U as z,a as R,H as L,S as N}from"./index.cae61554.js";import{r as A}from"./index.eed8fc33.js";import{t as D}from"./index.02bb6ec7.js";import{u as q}from"./index.4b029882.js";var E={hasInk:{type:Boolean,default:!0},defaultIndex:{type:Number,default:0},immediate:{type:Boolean,default:!1},inkLength:{type:Number,default:0}},F={label:{type:String,default:""},name:{type:String,default:""},disabled:{type:Boolean,default:!1}},G=d({name:"MdTabs",components:{MdSwiper:O,MdTabBar:U},props:E,emits:[$],setup(e,a){const{tabItems:l,swiperRef:n,currentIndex:t,changeHandler:o,swiperChangeHandler:s}=((e,{emit:a})=>{const l=u([]);p("Tabs",c({addItem:e=>(l.value.push(e),l.value.length-1),removeItem:e=>{const a=l.value.findIndex((a=>a.name===e.name&&a.label==a.label));l.value.splice(a,1)}}));const n=u(null),t=u(e.defaultIndex);return m(l,(()=>{var e,a;null==(a=null==(e=n.value)?void 0:e.getSwiperInstance())||a.refresh()}),{deep:!0}),b((()=>{var o,s,d;null==(d=null==(s=null==(o=n.value)?void 0:o.getSwiperInstance())?void 0:s.goToPage)||d.call(s,t.value,0),e.immediate&&a($,i(r({},l.value[t.value]),{index:t.value}))})),{tabItems:l,swiperRef:n,currentIndex:t,changeHandler:function(e,o){var s,d;t.value=o,null==(d=null==(s=n.value)?void 0:s.getSwiperInstance())||d.goToPage(o,0),a($,i(r({},l.value[t.value]),{index:t.value}))},swiperChangeHandler:(e,n)=>{t.value=n,a($,i(r({},l.value[t.value]),{index:t.value}))}}})(e,a);return{tabItems:l,swiper:n,currentIndex:t,changeHandler:o,swiperChangeHandler:s}}}),J={class:"md-tabs"};G.render=function(e,a){var l;const n=h("md-tab-bar"),t=h("md-swiper");return g(),y("div",J,[w(n,{ref:"tabBar","model-value":(null==(l=e.tabItems[e.currentIndex])?void 0:l.name)||"",items:e.tabItems,"has-ink":e.hasInk,"ink-length":e.inkLength,onChange:e.changeHandler},null,8,["model-value","items","has-ink","ink-length","onChange"]),w(t,{ref:"swiper",autoplay:0,"is-loop":!1,"has-dots":!1,"is-prevent":!1,onBeforeChange:e.swiperChangeHandler},{default:S((()=>[k(e.$slots,"default")])),_:3},8,["onBeforeChange"])])};var K=G,Q=d({props:F,setup(e){(e=>{const{addItem:a,removeItem:l}=v("Tabs",{});a(e),f((()=>{l(e)}))})(e)}});Q.render=function(e,a){return e.disabled?x("v-if",!0):(g(),y("div",{key:0,class:"md-tab-pane",role:"tabpanel",tab:e.name},[k(e.$slots,"default")],8,["tab"]))};var W=Q;K.install=e=>{e.component(K.name,K),e.component(W.name,W)},W.install=e=>{e.component(W.name,W)};var X=W,Y=[$,z,R,L,N],Z={modelValue:{type:[Number,String,Array],default:()=>[]},visible:{type:Boolean,default:!1},data:{type:Object,default:()=>({})},defaultValue:{type:Array,default:()=>[]},placeholder:{type:String,default:D("md.tab_picker.choose")},value:{type:Boolean,default:!1},title:{type:String,default:""},describe:{type:String,default:""},maskClosable:{type:Boolean,default:!0},height:{type:String,default:"40vh"}},ee=d({name:"MdTabPicker",components:{MdPopup:B,MdPopupTitleBar:_,MdTabs:M,MdTabPane:X,MdRadioList:A},props:Z,emits:Y,setup(e,a){const{popupShow:l,onHide:n,onShow:t,hide:o,tabsRef:s,panes:r,innerValue:i,changeHandler:d}=((e,{emit:a})=>{const l=u(null),{popupShow:n,onHide:t,onShow:o,hide:s}=q(e,a);m(n,(e=>{e&&j((()=>{const e=l.value.$refs.tabBar;l.value.swiper.renderSwiper(),e.setInkStyle(e.modelIndex)}))}));const r=I({get:()=>e.modelValue,set:e=>a(z,e)}),i=e=>{const a=c({});return e&&e.name&&(a.name=e.name,a.label=e.label,a.options=e.options),a},d=u([]);return b((()=>{d.value.push(i(e.data))})),{tabsRef:l,popupShow:n,onHide:t,onShow:o,hide:s,panes:d,innerValue:r,changeHandler:(e,n)=>{const t=e.find((e=>e.value===r.value[n]));d.value[n].label=t.label,a($,{index:n,options:e,value:r.value[n]}),d.value.splice(n+1),r.value.splice(n+1),t.children?(d.value[n+1]=i(t.children),j((()=>{var e;null==(e=l.value.swiper.getSwiperInstance())||e.goToPage(n+1,0)}))):s()}}})(e,a);return{popupShow:l,onHide:n,onShow:t,hide:o,tabs:s,panes:r,innerValue:i,changeHandler:d}}});ee.render=function(e,a){const l=h("md-popup-title-bar"),n=h("md-radio-list"),t=h("md-tab-pane"),o=h("md-tabs"),s=h("md-popup");return g(),y(s,{modelValue:e.popupShow,"onUpdate:modelValue":a[1]||(a[1]=a=>e.popupShow=a),class:"md-tab-picker",position:"bottom","mask-closable":e.maskClosable,"prevent-scroll":!0,onHide:e.onHide,onShow:e.onShow},{default:S((()=>[k(e.$slots,"title",{},(()=>[w(l,{title:e.title,describe:e.describe,"only-close":"",onCancel:e.hide},null,8,["title","describe","onCancel"])])),w("div",{class:"md-tab-picker-content",style:{height:e.height}},[w(o,{ref:"tabs"},{default:S((()=>[(g(!0),y(H,null,V(e.panes,((a,l)=>(g(),y(t,{key:a.name+l,name:a.name,label:a.label},{default:S((()=>[w(n,{modelValue:e.innerValue[l],"onUpdate:modelValue":a=>e.innerValue[l]=a,options:a.options,"is-slot-scope":!!e.$slots.default,icon:"","icon-inverse":"","icon-position":"right",onChange:n=>e.changeHandler(a.options,l)},{default:S((({option:a})=>[k(e.$slots,"default",{option:a})])),_:2},1032,["modelValue","onUpdate:modelValue","options","is-slot-scope","onChange"])])),_:2},1032,["name","label"])))),128))])),_:1},512)],4)])),_:3},8,["modelValue","mask-closable","onHide","onShow"])};var ae=ee;ae.install=e=>{e.component(ae.name,ae)};var le=ae;var ne={name:"province",label:"请选择",options:[{value:"pk",label:"北京市",children:{name:"block",label:"请选择",options:[{value:"hd",label:"海淀区"},{value:"cp",label:"昌平区"},{value:"cy",label:"朝阳区"}]}},{value:"sc",label:"四川省",children:{name:"city",label:"请选择",options:[{value:"cd",label:"成都市",children:{name:"block",label:"请选择",options:[{value:"gx",label:"高新区"},{value:"qy",label:"青羊区"}]}},{value:"my",label:"绵阳市",children:{name:"block",label:"请选择",options:[{value:"jn",label:"金牛区"}]}},{value:"lz",label:"泸州市"},{value:"dy",label:"德阳市"},{value:"ms",label:"眉山市"},{value:"ls",label:"乐山市"},{value:"yb",label:"宜宾市"},{value:"ya",label:"雅安市"},{value:"zg",label:"自贡市"},{value:"pzh",label:"攀枝花市"},{value:"sn",label:"遂宁市"},{value:"nc",label:"南充市"},{value:"nj",label:"内江市"},{value:"dz",label:"达州市"},{value:"ga",label:"广安市"}]}}]};const te={class:"\n      md-example-child\n      md-example-child-tab-picker\n      md-example-child-tab-picker-0\n    "};var oe=d(i(r({},{name:"TabPickerDemo",title:"基本"}),{expose:[],setup(e){const a=u(!1),l=u([]);return(e,n)=>(g(),y("div",te,[w(C(P),{title:"地址"},{default:S((()=>[w(C(T),{title:"联系地址",arrow:"arrow-right",placeholder:"请选择联系地址",solid:"",content:l.value.toString(),onClick:n[1]||(n[1]=e=>a.value=!a.value)},null,8,["content"])])),_:1}),w(C(le),{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=e=>l.value=e),visible:a.value,"onUpdate:visible":n[3]||(n[3]=e=>a.value=e),title:"请选择",describe:"请选择您所在的省份、城市、区县",data:C(ne)},null,8,["modelValue","visible","data"])]))}})),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oe});export{se as _};
