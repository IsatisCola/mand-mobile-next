import{c as o,f as n}from"./index.5a7140ad.js";import{g as e,n as t,M as a,r as i,a as s,c,f as d,d as l,k as r,i as p}from"./app.7b5dc9e9.js";import{p as u}from"./index.8ab20a68.js";import{i as m}from"./index.54c9a31d.js";var h=e({name:"MdToast",components:{MdPopup:u,MdIcon:m},props:{id:{type:String,default:""},icon:{type:String,default:""},iconSvg:{type:Boolean,default:!1},content:{type:[String,Number],default:""},duration:{type:Number,default:0},position:{type:String,default:"center"},hasMask:{type:Boolean,default:!1}},setup(o,n){const{onShow:e,onHide:i,show:s,hide:c,fire:d,isPopupShow:l}=((o,{emit:n})=>{const e=()=>{s.value=!1};let i;const s=t(!1),c=()=>{i&&clearTimeout(i),s.value&&o.duration&&(i=globalThis.setTimeout((()=>{e()}),o.duration))};return a((()=>{i&&clearTimeout(i)})),{onShow:()=>{n("show")},onHide:()=>{n("hide")},show:()=>{s.value=!0,c()},hide:e,fire:c,isPopupShow:s}})(o,n);return{onShow:e,onHide:i,show:s,hide:c,fire:d,isPopupShow:l}}}),v={key:0,class:"md-toast-content"},f={key:1,class:"md-toast-content"};h.render=function(o,n){const e=i("md-icon"),t=i("md-popup");return s(),c("div",{class:["md-toast",[o.position]]},[d(" eslint-disable vue/no-v-html "),l(t,{modelValue:o.isPopupShow,"onUpdate:modelValue":n[1]||(n[1]=n=>o.isPopupShow=n),"has-mask":o.hasMask,"mask-closable":!1,position:o.position,"append-to-body":!1,onShow:o.onShow,onHide:o.onHide},{default:r((()=>[o.$slots.default?(s(),c("div",v,[p(o.$slots,"default")])):(s(),c("div",f,[o.icon?(s(),c(e,{key:0,name:o.icon,size:"lg",svg:o.iconSvg},null,8,["name","svg"])):d("v-if",!0),o.content?(s(),c("div",{key:1,class:"md-toast-text",innerHTML:o.content},null,8,["innerHTML"])):d("v-if",!0)]))])),_:3},8,["modelValue","has-mask","position","onShow","onHide"])],2)};var S=h;S._instance=null,S.create=function({content:n="",icon:e="",iconSvg:t=!1,duration:a=3e3,position:i="center",hasMask:s=!1}){var c,d,l;const r={content:n,icon:e,iconSvg:t,duration:a,position:i,hasMask:s};if(S._instance)return S._instance.component.proxy.updateProps(r),void S._instance.component.proxy.show();const p=S._instance=o(S,r);return null==(d=null==(c=null==p?void 0:p.component)?void 0:c.proxy)||d.show(),null==(l=null==p?void 0:p.component)?void 0:l.proxy},S.hide=o=>{var e,t,a;o?(n(null!=(t=null==(e=S._instance)?void 0:e.component.props.id)?t:""),S._instance=null):null==(a=S._instance)||a.component.proxy.hide()},S.info=(o="",n=3e3,e=!1)=>S.create({icon:"",content:o,duration:n,hasMask:e}),S.succeed=(o="",n=3e3,e=!1)=>S.create({icon:"success",content:o,duration:n,hasMask:e}),S.failed=(o="",n=3e3,e=!1)=>S.create({icon:"fail",content:o,duration:n,hasMask:e}),S.loading=(o="",n=0,e=!0)=>S.create({icon:"spinner",iconSvg:!0,content:o,duration:n,hasMask:e});var w=S;w.install=o=>{o.component(w.name,w)};var y=w;export{y as t};
