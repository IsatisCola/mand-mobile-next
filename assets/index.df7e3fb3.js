import{g as e,U as t,n as o,s as n,h as a,o as l,x as i,r as p,a as s,c as r,y as c,z as u,d,f,T as m,k as v,A as k,i as b,B as y,F as C,t as x}from"./app.76f77a32.js";import{t as h}from"./index.5677739b.js";var S={modelValue:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0},position:{type:String,default:"center"},transition:{type:String,default:""},hasMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preventScroll:{type:Boolean,default:!1},preventScrollExclude:{type:[Object,String],default:void 0}},g=(e,{emit:o})=>{const p=n(!1),s=n(null),r=n(null),c=a((()=>{if(e.transition)return e.transition;switch(e.position){case"bottom":return"md-slide-up";case"top":return"md-slide-down";case"left":return"md-slide-right";case"right":return"md-slide-left";default:return"md-fade"}}));return l((()=>{var t;const o="string"==typeof e.preventScrollExclude?null==(t=r.value)?void 0:t.querySelector(e.preventScrollExclude):e.preventScrollExclude,n=(t=!0)=>{e.preventScroll&&s.value&&r.value&&o&&function(e,t,o,n){const a=e?"addEventListener":"removeEventListener";null==t||t[a]("touchmove",T,!1),null==o||o[a]("touchmove",T,!1),function(e,t){const o=e?"addEventListener":"removeEventListener";null==t||t[o]("touchmove",A,!1)}(e,n)}(t,s.value,r.value,o)};i((()=>e.modelValue),(e=>{e?(p.value=e,n()):n(!1)}),{immediate:!0})})),{isPopupShow:p,currentTransition:c,boxRef:r,maskRef:s,popupMaskClick:()=>{e.maskClosable&&(o("maskClick"),o(t,!1))},popupLeave:function(){p.value=!1,o("hide")},popupAppear:function(){o("show")},beforePopupAppear:function(){o("beforeShow")},beforePopupLeave:function(){o("beforeHide")}}};function T(e){e.preventDefault()}function A(e){e.stopImmediatePropagation()}var L=e({name:"MdPopup",components:{MdTransition:h},inheritAttrs:!1,props:S,emits:[t,"maskClick","show","hide","beforeShow","beforeHide"],setup(e,t){const{isPopupShow:o,currentTransition:n,popupMaskClick:a,popupLeave:l,popupAppear:i,beforePopupAppear:p,beforePopupLeave:s,maskRef:r,boxRef:c}=g(e,t);return{isPopupShow:o,currentTransition:n,popupMaskClick:a,popupLeave:l,popupAppear:i,beforePopupAppear:p,beforePopupLeave:s,mask:r,box:c}}});L.render=function(e,t){const o=p("md-transition");return s(),r(y,{to:"body",disabled:!e.appendToBody},[c(d("div",{class:["md-popup",[e.hasMask?"with-mask":"",e.position]]},[f(" mask "),d(m,{name:"md-mask-fade"},{default:v((()=>[c(d("div",{ref:"mask",class:"md-popup-mask",onClick:t[1]||(t[1]=(...t)=>e.popupMaskClick&&e.popupMaskClick(...t))},null,512),[[u,e.hasMask&&e.modelValue]])])),_:1}),f(" content "),d(o,k(e.$attrs,{name:e.currentTransition,onBeforeEnter:e.beforePopupAppear,onBeforeLeave:e.beforePopupLeave,onAfterEnter:e.popupAppear,onAfterLeave:e.popupLeave}),{default:v((()=>[c(d("div",{ref:"box",class:["md-popup-box",[e.currentTransition]]},[b(e.$slots,"default")],2),[[u,e.modelValue]])])),_:3},16,["name","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"])],2),[[u,e.isPopupShow]])],8,["disabled"])};var P=L,B=e({name:"MdPopupTitleBar",components:{MdIcon:o},props:{title:{type:String,default:""},describe:{type:String,default:""},okText:{type:String,default:""},cancelText:{type:String,default:""},titleAlign:{type:String,default:"center"},onlyClose:{type:Boolean,default:!1}},emits:["cancel","confirm"]}),$={key:1,class:"title-bar-title"},E={key:2,class:"title-bar-title"};B.render=function(e,t){const o=p("md-icon");return s(),r("div",{class:["md-popup-title-bar",[`title-align-${e.titleAlign}`]]},[f(" Cancel "),e.onlyClose?f("v-if",!0):(s(),r(C,{key:0},[f(" todo slot "),e.cancelText?(s(),r("div",{key:0,class:"title-bar-left md-popup-cancel",onClick:t[1]||(t[1]=t=>e.$emit("cancel")),textContent:x(e.cancelText)},null,8,["textContent"])):e.$slots.cancel?(s(),r("div",{key:1,class:"title-bar-left md-popup-cancel",onClick:t[2]||(t[2]=t=>e.$emit("cancel"))},[b(e.$slots,"cancel")])):f("v-if",!0)],2112)),f(" Title "),e.title?(s(),r("div",$,[e.title?(s(),r("p",{key:0,class:"title",textContent:x(e.title)},null,8,["textContent"])):f("v-if",!0),f(" todo slot "),e.describe?(s(),r("p",{key:1,class:"describe",textContent:x(e.describe)},null,8,["textContent"])):f("v-if",!0)])):(s(),r("div",E,[b(e.$slots,"title")])),f(" Ok "),e.onlyClose?f("v-if",!0):(s(),r(C,{key:3},[f(" todo slot "),e.okText?(s(),r("div",{key:0,class:"title-bar-right md-popup-confirm",onClick:t[3]||(t[3]=t=>e.$emit("confirm")),textContent:x(e.okText)},null,8,["textContent"])):e.$slots.confirm?(s(),r("div",{key:1,class:"title-bar-right md-popup-confirm",onClick:t[4]||(t[4]=t=>e.$emit("confirm"))},[b(e.$slots,"confirm")])):f("v-if",!0)],2112)),e.onlyClose?(s(),r("div",{key:4,class:"title-bar-right md-popup-close",onClick:t[5]||(t[5]=t=>e.$emit("cancel"))},[d(o,{name:"close",size:"lg"})])):f("v-if",!0)],2)};var M=B;P.install=e=>{e.component(P.name,P),e.component(M.name,M)};var w=P;export{P as a,w as p,M as t};
