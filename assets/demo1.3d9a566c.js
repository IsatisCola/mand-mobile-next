var e=Object.defineProperty,l=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(l,n,o)=>n in l?e(l,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[n]=o,c=(e,l)=>{for(var n in l||(l={}))a.call(l,n)&&i(e,n,l[n]);if(o)for(var n of o(l))t.call(l,n)&&i(e,n,l[n]);return e},s=(e,o)=>l(e,n(o));import{g as d,h as r,r as u,a as p,c as m,f as v,d as h,w as x,t as b,F as f,j as S,m as y,e as w,k as _}from"./app.94a7a3e0.js";import{b as H}from"./index.5cc1bb68.js";import{n as g,c as j,U as I,a as k,H as C,S as V,C as O}from"./index.7e667d83.js";import{t as P}from"./index.02bb6ec7.js";import{p as T}from"./index.e7f05278.js";import{u as M}from"./index.c8d142a8.js";var U={modelValue:{type:[String,Number],default:""},visible:{type:Boolean,default:!1},title:{type:String,default:""},options:{type:Array,default:()=>[]},defaultIndex:{type:Number,default:-1},invalidIndex:{type:Number,default:-1},cancelText:{type:String,default:P("md.action_sheet.cancel")}},A=d({name:"MdActionSheet",components:{MdPopup:T},props:U,emits:[I,k,C,V,"cancel",O],setup(e,l){const{hideSheet:n,cancelHandler:o,onHide:a,onShow:t,popupShow:i,currentIndex:c,onSelect:s}=((e,{emit:l})=>{const{popupShow:n,onHide:o,onShow:a,hide:t}=M(e,l),i=r((()=>e.options.findIndex((l=>l.value===e.modelValue))));return{hideSheet:t,cancelHandler:()=>{l("cancel"),t()},onHide:o,onShow:a,popupShow:n,currentIndex:i,onSelect:n=>{e.options.findIndex((e=>e.value===n.value))!==e.invalidIndex&&(l(I,n.value),l(O,n),t())}}})(e,l);return{hideSheet:n,cancelHandler:o,onHide:a,onShow:t,popupShow:i,currentIndex:c,onSelect:s}}}),D={class:"md-action-sheet-content"},N={key:0,class:"md-action-sheet-header"},z={class:"md-action-sheet-list"},L={class:"md-action-sheet-item-wrapper"};A.render=function(e,l){const n=u("md-popup");return p(),m(f,null,[v(" eslint-disable vue/no-v-html "),h(n,{modelValue:e.popupShow,"onUpdate:modelValue":l[2]||(l[2]=l=>e.popupShow=l),class:"md-action-sheet",position:"bottom","prevent-scroll":"",onShow:e.onShow,onHide:e.onHide},{default:x((()=>[h("div",D,[e.title?(p(),m("div",N,b(e.title),1)):v("v-if",!0),h("ul",z,[(p(!0),m(f,null,S(e.options,((l,n)=>(p(),m("li",{key:n,class:{active:n===e.currentIndex,disabled:n===e.invalidIndex,"md-action-sheet-item":!0},onClick:n=>e.onSelect(l)},[h("div",L,[h("div",{class:"md-action-sheet-item-section",innerHTML:l.text||l.label},null,8,["innerHTML"])])],10,["onClick"])))),128)),h("li",{class:"md-action-sheet-cancel",onClick:l[1]||(l[1]=(...l)=>e.cancelHandler&&e.cancelHandler(...l))},b(e.cancelText),1)])])])),_:1},8,["modelValue","onShow","onHide"])],2112)};var B=A;B._instance=null,B._show=null,B.create=function({modelValue:e="",title:l="",options:n=[],invalidIndex:o=-1,cancelText:a=P("md.action_sheet.cancel"),maxHeight:t=400,onShow:i=g,onHide:c=g,onCancel:s=g,onSelect:d=g,onMaskClick:r=g}={}){var u,p,m,v;const h={modelValue:e,title:l,options:n,invalidIndex:o,cancelText:a,maxHeight:t,onShow:i,onHide:c,onCancel:s,onChange:d,"onUpdate:visible":r};if(B._show=()=>{var e;return null==(e=B._instance)?void 0:e.component.proxy.updateProps({visible:!0})},B._instance)return B._instance.component.proxy.updateProps(h),null==(u=B._show)||u.call(B),B._instance.component.proxy;const x=B._instance=j(B,h);if(null==(p=B._show)||p.call(B),null==(m=null==x?void 0:x.component)?void 0:m.proxy){const e=x.component.proxy.remove;x.component.proxy.remove=(...l)=>{var n;null==e||e.apply(null==(n=x.component)?void 0:n.proxy,l),B._instance=null}}return null==(v=null==x?void 0:x.component)?void 0:v.proxy};var E=B;E.install=e=>{e.component(E.name,E)};var F=E;const q={class:"md-example-child md-example-child-action-sheet"},G=_("唤起动作面板");var J=d(s(c({},{name:"ActionSheetDemo",title:"基本"}),{expose:[],setup(e){const l=y(!1),n=y([{label:"选项1",value:0},{label:"选项2",value:1},{label:"选项3",value:2}]),o=y("");return(e,a)=>(p(),m("div",q,[h(w(H),{onClick:a[1]||(a[1]=e=>l.value=!l.value)},{default:x((()=>[G])),_:1}),h(w(F),{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e),visible:l.value,"onUpdate:visible":a[3]||(a[3]=e=>l.value=e),title:"操作说明的标题","invalid-index":2,"cancel-text":"cancel",options:n.value},null,8,["modelValue","visible","options"])]))}})),K=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J});const Q={class:"md-example-child md-example-child-action-sheet"},R=_("唤起动作面板");var W=d(s(c({},{name:"ActionSheetDemo",title:"单例模式"}),{expose:[],setup(e){const l=y(""),n=()=>{const e=F.create({title:"操作说明的标题",options:[{label:"选项1",value:0},{label:"选项2",value:1},{label:"选项3",value:2}],modelValue:l.value,invalidIndex:2,cancelText:"取消",onCancel:()=>{var l;null==(l=null==e?void 0:e.updateProps)||l.call(e,{visible:!1})},onSelect:n=>{var o;console.log("click",n),l.value=n.value,null==(o=null==e?void 0:e.updateProps)||o.call(e,{visible:!1,modelValue:l.value})},onHide:()=>{var l;console.log("hide"),null==(l=null==e?void 0:e.remove)||l.call(e)},onMaskClick:()=>{var l;null==(l=null==e?void 0:e.updateProps)||l.call(e,{visible:!1})}})};return(e,l)=>(p(),m("div",Q,[h(w(H),{onClick:n},{default:x((()=>[R])),_:1})]))}})),X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});export{K as _,X as a};
