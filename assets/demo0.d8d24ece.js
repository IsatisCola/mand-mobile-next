var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&s(e,a,t[a]);if(i)for(var a of i(t))n.call(t,a)&&s(e,a,t[a]);return e},o=(e,t,a)=>(s(e,"symbol"!=typeof t?t+"":t,a),a);import{g as d,o as u,h as c,i as p,e as g,A as f,C as v,p as h,v as m,a as y,c as w,d as b,j as x,F as C,m as S,f as I,G as k,E as D,r as $,l as _,t as M,Q as L,J as V,V as N,B as z,T as E}from"./app.e9c07f9f.js";var B={autoplay:{type:Number,default:3e3,validator:e=>0===e||e>=500},transition:{type:String,default:"slide",validator:e=>["slide","slideY","fade"].includes(e)},transitionDuration:{type:Number,default:250},defaultIndex:{type:Number,default:0,validator:e=>e>-1},hasDots:{type:Boolean,default:!0},isPrevent:{type:Boolean,default:!0},isLoop:{type:Boolean,default:!0},dragable:{type:Boolean,default:!0},useNativeDriver:{type:Boolean,default:!0}};var H=(e,{emit:t,slots:a})=>{let i=null;const r=p(null),n=c((()=>"slideY"===e.transition)),s=c((()=>{var e,t;return(null==(t=null==(e=a.default)?void 0:e.call(a)[0].children)?void 0:t.length)||0})),d=()=>{var t,a;r.value&&!i&&(t=r.value,a={scrollX:!n.value,scrollY:n.value,slide:{threshold:100,autoplay:0!==e.autoplay,interval:e.autoplay,startPageXIndex:n.value?0:e.defaultIndex,startPageYIndex:n.value?e.defaultIndex:0,loop:e.isLoop},click:!e.isPrevent,disableTouch:!e.dragable,disableMouse:!e.dragable},L.use(N),i=new L(t,l({bounce:!1,deceleration:.1,probeType:3,momentum:!1},a)))},y=p(e.defaultIndex),w=e=>{y.value=e},b=()=>{d(),null==i||i.on("slidePageChanged",(e=>{const a=g(n)?e.pageY:e.pageX;t("afterChange",y.value,a),w(a)})),null==i||i.on("slideWillChange",(e=>{const a=g(n)?e.pageY:e.pageX;t("beforeChange",y.value,a),w(a)}))};u((()=>{var a;const i=null==(a=r.value)?void 0:a.getBoundingClientRect();"fade"!==e.transition&&(null==i?void 0:i.width)&&i.height&&b(),"fade"===e.transition&&r.value&&function(e,t,a,i){var r,n,s;const l=400,d=h({x:0,y:0,deltaX:0,draging:!1}),u=V(),c=null==(n=(null==(r=null==u?void 0:u.proxy)?void 0:r.$el).querySelector(".md-swiper-container"))?void 0:n.children,p=null==(s=null==c?void 0:c[0])?void 0:s.getBoundingClientRect(),g=Array.from(c||[]);e.style.height=(null==p?void 0:p.height)?(null==p?void 0:p.height)+"px":"0px",g[0].style.opacity="1";const v=new class{constructor(e,t){o(this,"draging"),o(this,"startX"),o(this,"startY"),o(this,"isPrevent",!0),o(this,"$el"),o(this,"dragHandler"),o(this,"startHandler"),o(this,"endHandler"),o(this,"position"),this.draging=!1,this.$el=e,this.startX=0,this.startY=0,this.position=t,this.dragHandler=e=>this.onDrag(e),this.startHandler=e=>this.onDragStart(e),this.endHandler=e=>this.onDragEnd(e),this.initEvent()}initEvent(){this.$el.addEventListener("touchstart",this.startHandler),this.$el.addEventListener("touchmove",this.dragHandler),this.$el.addEventListener("touchend",this.endHandler)}onDragStart(e){this.draging=!0,this.position.draging=!0,this.preventHandler(e),this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY}onDrag(e){this.draging=!0,this.position.draging=!0,this.preventHandler(e),e.touches[0]&&(this.position.x=e.touches[0].pageX,this.position.y=e.touches[0].pageY)}onDragEnd(e){this.draging=!1,this.position.draging=!1,this.preventHandler(e),this.position.deltaX=this.position.x-this.startX}preventHandler(e){this.isPrevent&&(e.preventDefault(),e.stopPropagation())}destory(){this.$el.removeEventListener("touchstart",this.startHandler),this.$el.removeEventListener("touchmove",this.dragHandler),this.$el.removeEventListener("touchend",this.endHandler)}}(e,d);let y;f((()=>v.destory())),m((()=>d.deltaX),(e=>{const a=e<0;Math.abs(e)>((null==p?void 0:p.width)||0)/5&&(t.value=a?t.value+1:t.value-1,-1===t.value&&(t.value=g.length-1),t.value===g.length&&(t.value=0))})),m(t,((e,t)=>{g.forEach((e=>{e.style.transition=`opacity ${l}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`,e.style.opacity="0",e.style.zIndex="0",e.ontransitionend=null,e.ontransitionstart=null}));const a=g[e];a.style.opacity="1",a.style.zIndex="1",a.ontransitionstart=function(){i("beforeChange",t,e)},a.ontransitionend=function(){i("afterChange",t,e)}})),m((()=>d.draging),(e=>{e?stop():b()}));const w=()=>{y&&clearTimeout(y),y=null},b=()=>{a.autoplay>500&&g.length>1&&(w(),y=globalThis.setInterval((()=>{t.value=t.value+1,a.isLoop||t.value!==g.length-1?(-1===t.value&&(t.value=g.length-1),t.value===g.length&&(t.value=0)):x()}),a.autoplay+l))},x=()=>{w()};b(),f((()=>x()))}(r.value,y,e,t)})),f((()=>{null==i||i.destroy()})),v("swiper",h({currentIndex:y}));return{wrapRef:r,renderSwiper:b,resetSwiper:()=>{i&&(i.destroy(),i=null,b())},indicatorCount:s,currentIndex:y,getSwiperInstance:()=>i,isVertical:n}};var P=d({name:"MdSwiper",props:B,emits:["beforeChange","afterChange"],setup(e,t){const{indicatorCount:a,wrapRef:i,renderSwiper:r,resetSwiper:n,currentIndex:s,getSwiperInstance:l,isVertical:o}=H(e,t);return{indicatorCount:a,currentIndex:s,wrapper:i,renderSwiper:r,resetSwiper:n,getSwiperInstance:l,isVertical:o}}}),R={ref:"wrapper",class:"md-swiper-box"},A={class:"md-swiper-container"};P.render=function(e,t){return y(),w("div",{class:["md-swiper",{"md-swiper-vertical":e.isVertical,"md-swiper-fade":"fade"===e.transition}]},[b("div",R,[b("div",A,[x(e.$slots,"default")])],512),e.indicatorCount>1&&e.hasDots?(y(),w("div",{key:0,class:["md-swiper-indicators",{disabled:!e.hasDots}]},[(y(!0),w(C,null,S(e.indicatorCount,(t=>(y(),w("div",{key:t,class:["md-swiper-indicator",{"md-swiper-indicator-active":t-1===e.currentIndex}]},null,2)))),128))],2)):I("v-if",!0)],2)};var O=P;O.install=e=>{e.component(O.name,O)};var Y=O,j={spinner:'<svg class="spinner" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background:0 0"><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(30 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(60 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(90 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(120 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(150 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(180 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(210 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(240 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(270 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(300 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect><rect x="46.5" y="15.5" rx="12.09" ry="4.03" width="7" height="17" fill="#eee" transform="rotate(330 50 50)"><animate attributeName="opacity" values="1;0" dur="1s" begin="0s" repeatCount="indefinite"/></rect></svg>',"warn-color":'<svg class="alert" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background:0 0"><g fill="none" fill-rule="evenodd"><path d="M50.001 100C22.385 100 0 77.615 0 50.001 0 22.385 22.385 0 50.001 0 77.615 0 100 22.385 100 50.001 100 77.615 77.615 100 50.001 100z" fill="#F3F4F5"/><path d="M45.44 22h10.118l-1.821 34.217h-6.78L45.44 22zm9.646 45.366C56.36 68.575 57 70.036 57 71.758c0 1.943-.645 3.47-1.936 4.577-1.293 1.11-2.8 1.665-4.52 1.665-1.75 0-3.278-.547-4.584-1.644C44.654 75.26 44 73.728 44 71.758c0-1.721.626-3.183 1.873-4.392 1.248-1.205 2.776-1.809 4.585-1.809 1.806 0 3.35.604 4.628 1.809z" fill="#666F83"/></g></svg>',"success-color":'<svg class="alert" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background:0 0"><g fill="#2F86F6" fill-rule="evenodd"><circle opacity=".08" cx="50" cy="50" r="50"/><path d="M76.992 35.422L46.865 65.524l.136.136-4.343 4.348-.14-.14-.12.12-4.413-4.41.125-.124L24.015 51.34l4.343-4.348L42.457 61.11l30.122-30.098z"/></g></svg>'},X=()=>{if(!document)return;const e=document.getElementById("__MAND_MOBILE_SVG_SPRITE_NODE__"),t=document.body;e||t.insertAdjacentHTML("afterbegin",`\n<svg\n  xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink"\n  id="__MAND_MOBILE_SVG_SPRITE_NODE__"\n  style="position:absolute;width:0;height:0"\n>\n  <defs>\n    ${Object.keys(j).map((e=>`<symbol id=${e}${j[e].split("svg")[1]}symbol>`)).join("")}\n  </defs>\n</svg>\n`)},T=d({name:"MdIcon",props:{name:{type:String,default:""},size:{type:String,default:"md"},color:{type:String,default:""},svg:{type:Boolean,default:!1}},setup(e){u((()=>X()));return{isInnerSvg:c((()=>!!j[e.name]))}}});T.render=function(e,t){return e.svg||e.isInnerSvg?(y(),w("svg",{key:0,class:["md-icon icon-svg",[`md-icon-${e.name}`,e.size]],style:{fill:e.color}},[b("use",{"xlink:href":`#${e.name}`},null,8,["xlink:href"])],6)):e.name?(y(),w("i",{key:1,class:["md-icon icon-font",[`md-icon-${e.name}`,e.name,e.size]],style:{color:e.color}},null,6)):I("v-if",!0)};var F=T;F.install=e=>{e.component(F.name,F)};var U=F,q="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase();q&&q.indexOf("android"),q&&/iphone|ipad|ipod|ios/.test(q),(e=>{const t=Date.now||(()=>+new Date),a=1e3;let i={},r=1;(()=>{const t=e.requestAnimationFrame||e.webkitRequestAnimationFrame;let a=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(a=!1),a)return(e,a)=>{t(e)};let i={},r=1,n=null,s=+new Date})()})("undefined"!=typeof window?window:global);var G=d({name:"MdTag",props:{size:{type:String,default:"large"},shape:{type:String,default:"square"},sharp:{type:String,default:""},type:{type:String,default:"ghost"},fillColor:{type:String,default:""},fontWeight:{type:String,default:"normal"},fontColor:{type:String,default:""}},setup(e){const{sizeStyle:t,computedClass:a,tagRef:i,colorStyle:r}=(e=>{const t=p(null),a=h({}),i=c((()=>{const{size:t,shape:a,type:i,fontWeight:r}=e;return["default",`size-${t}`,`shape-${a}`,`type-${i}`,`font-weight-${r}`]})),r=c((()=>{const t={},{fillColor:a,type:i,fontColor:r}=e;return"fill"===i&&a&&(t.background=a),r&&("ghost"===i&&(t.borderColor=r),t.color=r),t}));return u((()=>{k((()=>{var i;const{shape:r,sharp:n}=e;if("circle"===r){const e=((null==(i=t.value)?void 0:i.offsetHeight)||20)/2+"px";if(a.paddingLeft=e,a.paddingRight=e,a.borderRadius=e,n){const e=`border-${n}-radius`.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));a[e]=0}}}))})),{sizeStyle:a,computedClass:i,tagRef:t,colorStyle:r}})(e);return{sizeStyle:t,computedClass:a,tagRef:i,colorStyle:r}}}),W={ref:"tagRef",class:"md-tag"},J={class:"quarter-content"};G.render=function(e,t){return y(),w("div",W,["quarter"===e.shape?(y(),w("div",{key:0,class:e.computedClass},[b("div",J,[x(e.$slots,"default")]),b("div",{class:"quarter-bg",style:e.colorStyle},null,4)],2)):"coupon"===e.shape?(y(),w("div",{key:1,class:e.computedClass},[b("div",{class:"coupon-container",style:e.colorStyle},["coupon"===e.shape?(y(),w("div",{key:0,class:"left-coupon",style:{background:e.fillColor?"radial-gradient(circle at left, transparent 33%, "+e.fillColor+" 33%)":""}},null,4)):I("v-if",!0),x(e.$slots,"default"),"coupon"===e.shape?(y(),w("div",{key:1,class:"right-coupon",style:{background:e.fillColor?"radial-gradient(circle at right, transparent 33%, "+e.fillColor+" 33%)":""}},null,4)):I("v-if",!0)],4)],2)):(y(),w("div",{key:2,class:e.computedClass,style:[e.colorStyle,e.sizeStyle]},[x(e.$slots,"default")],6))],512)};var Q=G;Q.install=e=>{e.component(Q.name,Q)};var K=Q,Z=function(e,t){return z(E,t.attrs,t.slots)};Z.install=e=>{e.component(Z.name,Z)};var ee={visible:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},defaultIndex:{type:Number,default:0},hasDots:{type:Boolean,default:!0},deletable:{type:Boolean,default:!1}},te=d({name:"MdImageViewer",components:{MdSwiper:Y,MdTag:K,MdIcon:U,MdTransition:Z},props:ee,emits:["update:list","delete","update:visible"],setup(e,t){const{currentImgIndex:a,isViewerShow:i,dataList:r,closeViewer:n,showViewer:s,afterChange:l,onDeleteImage:o}=((e,{emit:t})=>{const a=p(0),i=p(!1),r=p([]);return D((()=>{i.value=e.visible})),D((()=>{r.value=(e=>{const t=[];return e.map((e=>{const a="object"==typeof e?e:{dataUrl:e};t.push(a)})),t})(e.list)})),m((()=>e.defaultIndex),((e,t)=>{a.value=e})),{currentImgIndex:a,isViewerShow:i,dataList:r,onDeleteImage:e=>{r.value.splice(e,1),t("update:list",r),t("delete",e)},showViewer:e=>{i.value=!0,a.value=e,t("update:visible",!0)},closeViewer:()=>{i.value=!1,t("update:visible",!1)},afterChange:(e,t)=>{a.value=t}}})(e,t);return{currentImgIndex:a,isViewerShow:i,dataList:r,onDeleteImage:o,closeViewer:n,showViewer:s,afterChange:l}}}),ae={class:"md-image-viewer-box"},ie={class:"md-image-list"},re={class:"md-swipper-warp"},ne={class:"item"},se={key:0,class:"md-viewer-index"};te.render=function(e,t){const a=$("md-icon"),i=$("md-tag"),r=$("md-swiper"),n=$("md-transition");return y(),w("div",ae,[I(" list "),b("div",ie,[(y(!0),w(C,null,S(e.dataList,((t,r)=>(y(),w("div",{key:r,class:"md-image-item preview",style:{backgroundImage:`url(${t.dataUrl})`,backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},onClick:t=>e.showViewer(r)},[e.deletable?(y(),w(i,{key:0,class:"md-image-item-del",size:"small",shape:"quarter","fill-color":"#111A34",type:"fill","font-color":"#fff",onClick:t=>e.onDeleteImage(r)},{default:_((()=>[b(a,{name:"close"})])),_:2},1032,["onClick"])):I("v-if",!0)],12,["onClick"])))),128)),x(e.$slots,"default")]),I("swipper"),b(n,{name:"md-fade"},{default:_((()=>[e.isViewerShow?(y(),w("div",{key:0,class:"md-image-viewer",onClick:t[1]||(t[1]=(...t)=>e.closeViewer&&e.closeViewer(...t))},[b("div",re,[b(r,{ref:"swiper",autoplay:0,"default-index":e.currentImgIndex,"has-dots":!1,"is-prevent":!1,onAfterChange:e.afterChange},{default:_((()=>[(y(!0),w(C,null,S(e.dataList,((e,t)=>(y(),w("div",{key:t,class:"md-viewer-item"},[b("div",ne,[e.dataUrl?(y(),w("img",{key:0,src:e.dataUrl,alt:e.dataUrl},null,8,["src","alt"])):I("v-if",!0)])])))),128))])),_:1},8,["default-index","onAfterChange"]),e.hasDots?(y(),w("div",se,M(e.currentImgIndex+1)+"/"+M(e.dataList.length),1)):I("v-if",!0)])])):I("v-if",!0)])),_:1})])};var le=te;le.install=e=>{e.component(le.name,le)};var oe=le;var de,ue=d((de=l({},{name:"ImageViewerDemo",title:"基本"}),t(de,a({expose:[],setup(e){const t=p([{dataUrl:"//img-hxy021.didistatic.com/static/strategymis/insurancePlatform_spu/uploads/27fb7f097ca218d743f816836bc7ea4a"},{dataUrl:"//manhattan.didistatic.com/static/manhattan/insurancePlatform_spu/uploads/c2912793a222eb24b606a582fd849ab7"}]),a=p(!1);return(e,i)=>(y(),w("div",null,[b(g(oe),{list:t.value,"onUpdate:list":i[1]||(i[1]=e=>t.value=e),visible:a.value,"onUpdate:visible":i[2]||(i[2]=e=>a.value=e),"default-index":1},null,8,["list","visible"])]))}})))),ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ue});export{ce as _};
